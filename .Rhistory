c('transect', 'year', 'xstrm', 'yearday', 'depth')]
atwp_sub$stab <- as.numeric(with(atwp_sub,
ifelse(substr=='NAN', NA,
ifelse(substr=='bedrock', 3,
ifelse(substr=='boulders', 2,
ifelse(substr=='cobbles', 1, 0
))))))
unique(atwp_sub$stab)
levels(atwp_sub$substr)
str(atwp_sub)
WetPoints_sub <- at_sub[which(paste(at_sub$transect,
at_sub$year,
at_sub$yearday,
sep='-')
%in%
paste(LastGrowSurvey_sub$Transect,
LastGrowSurvey_sub$year,
LastGrowSurvey_sub$yearday,
sep='-')),
c('transect', 'year', 'xstrm', 'yearday', 'depth')]
atwp_sub <- at_sub[which(paste(at_sub$transect,
at_sub$year,
at_sub$xstrm)
%in%
paste(WetPoints_sub$transect,
WetPoint_subs$year,
WetPoints_sub$xstrm)), ]
atwp_sub <- at_sub[which(paste(at_sub$transect,
at_sub$year,
at_sub$xstrm)
%in%
paste(WetPoints_sub$transect,
WetPoint_sub$year,
WetPoints_sub$xstrm)), ]
atwp_sub <- at_sub[which(paste(at_sub$transect,
at_sub$year,
at_sub$xstrm)
%in%
paste(WetPoints_sub$transect,
WetPoints_sub$year,
WetPoints_sub$xstrm)), ]
str(atwp_sub)
## find last survey during grow season
LastGrowSurvey_sub <- aggregate(yearday ~ transect + year, data=subset(at_sub, yearday<=212 & yearday>=105), FUN=max)
## get transect points present at last survey from growing season in each year
WetPoints_sub <- at_sub[which(paste(at_sub$transect,
at_sub$year,
at_sub$yearday,
sep='-')
%in%
paste(LastGrowSurvey_sub$Transect,
LastGrowSurvey_sub$year,
LastGrowSurvey_sub$yearday,
sep='-')),
c('transect', 'year', 'xstrm', 'yearday', 'depth')]
str(at_sub)
str(WetPoints_sub)
str(LastGrowSurvey_sub)
WetPoints_sub <- at_sub[which(paste(at_sub$transect,
at_sub$year,
at_sub$yearday,
sep='-')
%in%
paste(LastGrowSurvey_sub$transect,
LastGrowSurvey_sub$year,
LastGrowSurvey_sub$yearday,
sep='-')),
c('transect', 'year', 'xstrm', 'yearday', 'depth')]
str(WetPoints_sub)
atwp_sub <- at_sub[which(paste(at_sub$transect,
at_sub$year,
at_sub$xstrm)
%in%
paste(WetPoints_sub$transect,
WetPoints_sub$year,
WetPoints_sub$xstrm)), ]
str(atwp_sub)
atwp_sub$stab <- as.numeric(with(atwp_sub,
ifelse(substr=='NAN', NA,
ifelse(substr=='bedrock', 3,
ifelse(substr=='boulders', 2,
ifelse(substr=='cobbles', 1, 0
))))))
table(atwp_sub$stab)
table(atwp_sub$substr)
table(atwp_sub$substr, exclude= FALSE)
table(atwp_sub$substr, exclude= NULL)
table(atwp_sub$stab, exclude= FALSE)
levels(atwp_sub$stab)
str(atwp_sub)
library(plyr)
SubAvg <- aggregate(stab ~ year + Transect + xstrm,
data= subset(at_sub, yearday<=212 & yearday>=105), FUN= mean)
SubAvg <- aggregate(stab ~ year + Transect + xstrm,
data= subset(atwp_sub, yearday<=212 & yearday>=105), FUN= mean)
SubAvg <- aggregate(stab ~ year + transect + xstrm,
data= subset(atwp_sub, yearday<=212 & yearday>=105), FUN= mean)
head(SubAvg)
SubAvg2 <- ddply(atwp_sub[which(atwp_sub$yearday<=212 & atwp_sub$yearday>=105), ], c("year", "transect", "xstrm"), summarise,
N = length(stab),
stab.mean = mean(stab, na.rm= T),
stab.sd = sd(stab, na.rm= T)
)
head(SubAvg2)
SubAvg2 <- ddply(atwp_sub[which(atwp_sub$yearday<=212 & atwp_sub$yearday>=105), ], c("year", "transect", "xstrm"), summarise,
N = length(stab),
stab.mean = mean(stab, na.rm= T),
stab.sd = sd(stab, na.rm= T),
stab.min = min(stab),
stab.max = max(stab))
subset(SubAvg2, Transect == 2)
head(subset(SubAvg2, transect == 2), 40)
sub.stat <- ddply(atwp_sub[which(atwp_sub$yearday<=212 & atwp_sub$yearday>=105), ], c("year", "transect", "xstrm"), summarise,
N = length(stab),
stab.mean = mean(stab, na.rm= T),
stab.sd = sd(stab, na.rm= T),
stab.min = min(stab),
stab.max = max(stab))
head(sub.stat[which(sub.stat$stab.sd == 0), ])
head(sub.stat)
t2 <- round(sub.stat, 2)
t2 <- round(sub.stat[, 5:6], 2)
head(t2)
sub.stat[, 5:6] <- round(sub.stat[, 5:6], 2)
head(sub.stat)
head(subset(sub.stat, transect == 2), 40)
head(sub.stat[which(sub.stat$stab.sd == 0), ])
str(sub.stat[which(sub.stat$stab.sd == 0), ])
str(at_sub)
dim(atwp_sub)
str(sub.stat[which(sub.stat$stab.sd == 0), ])
str(sub.stat[which(sub.stat$stab.sd == NA), ])
str(sub.stat[which(is.na(sub.stat$stab.sd) == T), ])
head(sub.stat[which(is.na(sub.stat$stab.sd) == T), ])
head(sub.stat[which(is.na(sub.stat$stab.sd) == T), ], 40)
levels(atwp_sub$substr)
head(sub.stat[which(is.na(sub.stat$stab.mean) == T), ], 40)
dim(sub.stat[which(is.na(sub.stat$stab.mean) == T), ])
(sub.stat[which(is.na(sub.stat$stab.mean) == T), ])
head(sub.stat[which(is.na(sub.stat$stab.sd) == T), ], 20)
dim(sub.stat[which(is.na(sub.stat$stab.sd) == T), ])
library(ggplot2)
sub.sd.1 <- ggplot(data= sub.stat, aes(x= stab.sd))
sub.sd.1 + geom_histogram() + theme_bw(base_size= 20)
sub.sd.1 + geom_histogram(aes(color= stab.sd == 0)) + theme_bw(base_size= 20)
sub.sd.1 + geom_histogram(aes(fill= stab.sd == 0)) + theme_bw(base_size= 20)
sub.1 <- ggplot(data= sub.stat, aes(x= xstrm, factor= stab.mean))
sub.1 + geom_histogram() + theme_bw(base_size= 20)
sub.1 + geom_histogram(aes(fill= stab.mean)) + facet_grid(transect ~.) + theme_bw(base_size= 20)
p2 <- ggplot(data=astates[which(astates$Transect==2 & astates$xstrmRnd <= 16),], aes(x= xstrmRnd, factor= algaeStates))
p2 + geom_histogram(stat="bin", binwidth = 1) + facet_grid(~ algaeStates, scales = "free_y") + ggtitle("Transect 2")
p2 + geom_bar(stat="bin", binwidth = 1, aes(fill= algaeStates)) + plot_theme1 + scale_fill_manual(values = c(kbgPal1))	+ facet_grid(.~month) + ggtitle("Transect 2")
p2.5 <- ggplot(data=astates[which(astates$Transect==2.5 & astates$xstrmRnd <= 15),], aes(x= xstrmRnd, factor= algaeStates))
p2.5 + geom_histogram(stat="bin", binwidth = 1) + facet_grid(~ algaeStates, scales = "free_y") + plot_theme1 + ggtitle("Transect 2.5")
AlgalTransects2.states <- read.table(file.choose(), header=T, na.strings='', sep='\t', fill=TRUE, quote='')
head(AlgalTransects2.states)
str(AlgalTransects2.states)
## Select data from April to September
AlgalTransects2.states$depth <- as.numeric(AlgalTransects2.states$depth)
astates <- AlgalTransects2.states[which(as.numeric(AlgalTransects2.states$month) >= 4 &
as.numeric(AlgalTransects2.states$month) <= 9 &
AlgalTransects2.states$depth > 0 ),]
## Round xstrm to nearest 1 meter
astates$xstrmRnd <- (round((astates$xstrm),0))
#sort(unique(astates$xstrmRnd))
## Change TwoYears column to a factor
astates$TwoYears <- as.factor(astates$TwoYears)
astates$TwoYears <- factor(astates$TwoYears,
levels(astates$TwoYears)[c(1, 2, 4, 5, 3)])
#table(astates$TwoYears)
## Reformat algaedom column
# Change NA to "bare"
astates$algaeStates <- factor(astates$algaedom,
levels = c(levels(astates$algaedom), "bare"))
b <- which(is.na(astates$algaeStates) == TRUE)
astates$algaeStates[b] <- "bare"
## Remove rows with algal classes we are not interested in (due to infrequent observations), and then drop the unused levels
# table(astates$algaeStates, exclude= NULL)
astates <- astates[which(astates$algaeStates != "black crust" &
astates$algaeStates != "green skin" &
astates$algaeStates != "general blue-green algae" &
astates$algaeStates != "Cyanobac filaments" &
astates$algaeStates != "litter"),]
## Combine some levels together
# install.packages ("car") to use "recode" command
library(car)
astates$algaeStates <- recode(astates$algaeStates, " 'diatom skin' = 'Diatom skin' ")
astates$algaeStates <- recode(astates$algaeStates,
" 'Cladophora glomerata loose' =
'Cladophora glomerata attached' ")
astates$algaeStates <- droplevels(astates$algaeStates)
#table(astates$algaeStates, exclude=NULL)
# Drop the cross section widths that rarely have data
# T2<15m wide; T2.5<20m; T3<29m; T4<30m
#astatesT2 <- astates[which(as.numeric(astates$Transect) == 2 & astates$xstrmRnd <= 16), ]
#unique(astatesT$xstrmRnd)
#### Plot the Data ####
library(ggplot2)
kbgPal1 <- c("#ED2A5B", "#6E645A", "#3474AE", "#D6E29A", "#400B1E", "#F3C6D1", "#CD5A01", "#951475", "#4E8921", "#DF9DF1")
p2 <- ggplot(data=astates[which(astates$Transect==2 & astates$xstrmRnd <= 16),], aes(x= xstrmRnd, factor= algaeStates))
p2 + geom_histogram(stat="bin", binwidth = 1) + facet_grid(~ algaeStates, scales = "free_y") + ggtitle("Transect 2")
p2.5 <- ggplot(data=astates[which(astates$Transect==2.5 & astates$xstrmRnd <= 15),], aes(x= xstrmRnd, factor= algaeStates))
p2.5 + geom_histogram(stat="bin", binwidth = 1) + facet_grid(~ algaeStates, scales = "free_y") + plot_theme1 + ggtitle("Transect 2.5")
p2.5 + geom_bar(stat="bin", binwidth = 1, aes(fill= algaeStates)) + plot_theme1 + scale_fill_manual(values = c(kbgPal1))	+ facet_grid(.~month) + ggtitle("Transect 2.5")
sub.1 + geom_bar(stat='bin') + facet_grid(transect ~.) + theme_bw(base_size= 20)
sub.1 + geom_bar(aes(fill= stab.mean), stat='bin') + facet_grid(transect ~.) + theme_bw(base_size= 20)
sub.1 + geom_bar(aes(fill= factor(stab.mean)), stat='bin') + facet_grid(transect ~.) + theme_bw(base_size= 20)
sub.mean.1 <- ggplot(data= sub.stat, aes(x= xstrm, y= stab.mean))
sub.mean.1 + geom_boxplot() + facet_grid(.~transect) + theme_bw(base_size= 20)
sub.sd.1 <- ggplot(data= sub.stat, aes(x= stab.sd))
sub.sd.1 + geom_histogram(aes(fill= stab.sd == 0)) + theme_bw(base_size= 20)
sub.stat <- ddply(atwp_sub[which(atwp_sub$yearday<=212 & atwp_sub$yearday>=105), ],
c("year", "transect", "xstrm"), summarise,
N = length(stab),
stab.mean = mean(stab, na.rm= T),
stab.sd = sd(stab, na.rm= T),
stab.min = min(stab),
stab.max = max(stab),
stab.diff = stab.max - stab.min)
sub.stat[, 5:6] <- round(sub.stat[, 5:6], 2)
head(sub.stat)
stab.diff.1 <- ggplot(data= sub.stat, aes(x= stab.diff))
stab.diff.1 + geom_histogram(aes(fill= stab.diff == 0)) + facet_grid(.~transect) + theme_bw(base_size= 20)
sub.stat <- ddply(subset(atwp_sub, yearday<=212 & yearday>=105),
c("year", "transect", "xstrm"), summarise,
N = length(stab),
stab.mean = mean(stab, na.rm= T),
stab.sd = sd(stab, na.rm= T),
stab.min = min(stab),
stab.max = max(stab),
stab.diff = stab.max - stab.min)
sub.stat[, 5:6] <- round(sub.stat[, 5:6], 2)
head(sub.stat)
str(at_sub)
View(SubAvg)
View(AlgalTransects)
View(AlgalTransects)
str(AlgalTransects)
head(t2)
t2 <- at_sub
head(t2)
t3 <- t2[, order(names(t2))]
head(t3)
df.og <- read.table(file.choose(), header=T, na.strings='', sep='\t', fill=TRUE, quote='')
df.sub <- read.table(file.choose(), header=T, na.strings='', sep='\t', fill=TRUE, quote='')
df.og2 <- df.og[, order(names(df.og))]
df.sub2 <- df.sub[, order(names(df.sub))]
str(df.og2)
str(df.sub2)
head(df.sub2[, 27:28])
df.sub2 <- df.sub2[,-c(27, 28)]
str(df.sub2)
install.packages("compare")
library(compare)
?compare
comps <- compare(df.og2, df.sub2, allowAll = TRUE)
str(comps)
head(comps$tM)
str(comps$tM)
str(df.og2)
head(df.og2[, c(9, 26, 28)])
df.sub2 <- df.sub[, order(names(df.sub))]
str(df.sub2)
head(df.sub2[, c(9, 26, 30)]
)
df.sub2 <- df.sub2[, c(9, 26, 30)]
str(df.sub2)
df.og2 <- df.og2[, c(9, 26, 28)]
str(df.og2)
names(df.og2)[2]
names(df.og2)[2] <- "transect"
names(df.og2)
str(df.og2)
str(df.sub2)
comps <- compare(df.og2, df.sub2, allowAll = TRUE)
str(comps)
library(dplyr)
install.packages("dplyr")
library(dplyr)
?dplyr
?anti_join
anti_join(df.og2, df.sub2)
aj <- anti_join(df.og2, df.sub2)
str(aj)
str(df.sub2)
str(df.og2)
df.og2$date <- as.Date(df.og2$date, "%m/%d/%Y")
str(df.og2)
df.sub2$date <- as.Date(df.sub2$date, "%Y-%m-%d")
str(df.sub2)
aj <- anti_join(df.og2, df.sub2)
str(aj)
aj
comps <- compare(df.og2, df.sub2, allowAll = TRUE)
str(comps)
str(comps$detailedResult)
comps$detailedResult
df.sub2 <- df.sub[, order(names(df.sub))]
df.sub2$date <- as.Date(df.sub2$date, "%Y-%m-%d")
str(df.sub2)
df.og2 <- df.og[, order(names(df.og))]
names(df.og2)
names(df.og2)[26]
names(df.og2)[26] <- "transect"
df.og2$date <- as.Date(df.og2$date, "%m/%d/%Y")
str(df.og2)
aj <- anti_join(df.og2, df.sub2)
str(aj)
m <- c(0, 0, 3)
mean(m)
sd(m)
?table
table(m)
table(as.vector(m))
test <- table(as.vector(m))
names(test)
names(test)[test == maxt(test)]
names(test)[test == max(test)]
m <- c(0, 0, 3, 3, 3, 3)
table(m)
test <- table(m)
names(test)[test == max(test)]
m <- c(0, 0, 3, 3, 3, 3, 0, 0, 0)
test <- table(m)
names(test)[test == max(test)]
?mode
names(which.max(table(test)))
test
(which.max(table(test)))
names(which.max(table(test)))
m <- c(0, 0, 3)
test <- table(m)
names(which.max(table(test)))
which.max(table(test))
m <- c(0, 0, 3)
names(which.max(table(m)))
which.max(table(m))
table(m)
m <- c(0, 3, 3)
names(test)[test == max(test)]
m <- c(0, 3, 3)
names(which.max(table(m)))
names(max(table(m)))
sub.mode <-  ddply(subset(atwp_sub, yearday<=212 & yearday>=105),
.(year, transect, xstrm),
function(x) {
mode1 <- names(which.max(table(x)))}
)
sub.stat <- ddply(subset(atwp_sub, yearday<=212 & yearday>=105),
c("year", "transect", "xstrm"), summarise,
N = length(stab),
stab.mode = names(which.max(table(x))),
stab.mean = mean(stab, na.rm= T),
stab.sd = sd(stab, na.rm= T),
stab.min = min(stab),
stab.max = max(stab),
stab.diff = stab.max - stab.min)
sub.stat <- ddply(subset(atwp_sub, yearday<=212 & yearday>=105),
c("year", "transect", "xstrm"), summarise,
N = length(stab),
stab.mode = names(which.max(table(stab))),
stab.mean = mean(stab, na.rm= T),
stab.sd = sd(stab, na.rm= T),
stab.min = min(stab),
stab.max = max(stab),
stab.diff = stab.max - stab.min)
head(sub.stat)
md <- names(which.max(table(m)))
md
class(md)
sub.stat <- ddply(subset(atwp_sub, yearday<=212 & yearday>=105),
c("year", "transect", "xstrm"), summarise,
N = length(stab),
stab.mode = as.numeric(names(which.max(table(stab)))),
stab.mean = mean(stab, na.rm= T),
stab.sd = sd(stab, na.rm= T),
stab.min = min(stab),
stab.max = max(stab),
stab.diff = stab.max - stab.min)
sub.mode <-  ddply(subset(atwp_sub, yearday<=212 & yearday>=105),
.(year, transect, xstrm), summarise,
stab.mode = as.numeric(names(which.max(table(stab)))))
?Mode
install.packages("NCmisc")
library(NCmisc)
?Mode
sub.mode <-  ddply(subset(atwp_sub, yearday<=212 & yearday>=105),
.(year, transect, xstrm), summarise,
stab.mode = Mode(stab))
head(sub.mode)
warnings()
head(sub.mode)
table(sub.mode$stab.mode)
table(sub.mode$stab.mode, exclude= NULL)
sub.stat2 <- ddply(subset(atwp_sub, yearday<=212 & yearday>=105),
c("year", "transect", "xstrm"), summarise,
N = length(stab),
stab.mode = Mode(stab, multi= TRUE),
stab.mean = mean(stab, na.rm= T),
stab.sd = sd(stab, na.rm= T),
stab.min = min(stab),
stab.max = max(stab),
stab.diff = stab.max - stab.min)
sub.stat2 <- ddply(subset(atwp_sub, yearday<=212 & yearday>=105),
c("year", "transect", "xstrm"), summarise,
N = length(stab),
stab.mode = Mode(stab),
stab.mean = mean(stab, na.rm= T),
stab.sd = sd(stab, na.rm= T),
stab.min = min(stab),
stab.max = max(stab),
stab.diff = stab.max - stab.min)
warnings()
head(sub.stat2)
m <- c(0, 0, 0, 3, 3, 3)
mean(m)
m <- c(0, 0, 3, 3, 3, 3)
mean(m)
m <- c(0, 3, 3, 3, 3, 3)
mean(m)
m <- c(0, 1, 3, 3, 3, 3)
mean(m)
head(sub.stat2, 30)
sub.stat <- ddply(subset(atwp_sub, yearday<=212 & yearday>=105),
c("year", "transect", "xstrm"), summarise,
N = length(stab),
stab.mode = Mode(stab),
stab.mean = mean(stab, na.rm= T),
stab.sd = sd(stab, na.rm= T),
stab.min = min(stab),
stab.max = max(stab),
stab.diff = stab.max - stab.min)
head(sub.stat)
sub.stat[, 6:7] <- round(sub.stat[, 6:7], 2)
head(sub.stat)
stab.mean.mode.1 <- ggplot(data= sub.stat, aes(x= stab.mode, y=stab.mean))
stab.mean.mode.1 + geom_point() + theme_bw(base_size = 20)
sub.stat$rnd.mean <- round(sub.stat$stab.mean, 0)
head(sub.stat)
stab.mean.mode.1 <- ggplot(data= sub.stat, aes(x= stab.mode, y= rnd.mean))
stab.mean.mode.1 + geom_point() + theme_bw(base_size = 20)
stab.mean.mode.1 + geom_point(position= "jitter") + theme_bw(base_size = 20)
stab.diff.1 <- ggplot(data= sub.stat[which(sub.stat$stab.mode == 0), ], aes(x= stab.diff))
stab.diff.1 + geom_histogram(aes(fill= stab.diff == 0)) + facet_grid(.~transect) + theme_bw(base_size= 20)
stab.diff.1 <- ggplot(data= sub.stat[which(sub.stat$stab.mode == 1), ], aes(x= stab.diff))
stab.diff.1 + geom_histogram(aes(fill= stab.diff == 0)) + facet_grid(.~transect) + theme_bw(base_size= 20)
stab.diff.1 <- ggplot(data= sub.stat[which(sub.stat$stab.mode == 3), ], aes(x= stab.diff))
stab.diff.1 + geom_histogram(aes(fill= stab.diff == 0)) + facet_grid(.~transect) + theme_bw(base_size= 20)
head(subset(sub.stat, stab.mode == 3 & stab.diff == 3)
)
str(subset(sub.stat, stab.mode == 3 & stab.diff == 3))
(subset(sub.stat, stab.mode == 3 & stab.diff == 3))
(subset(sub.stat, stab.mode == 3 & stab.diff == 3))
m <- c(0, 1, 2, 3, 3, 3)
mean(m)
m <- c(1, 1, 2, 3, 3, 3)
mean(m)
m <- c(0, 1, 3, 3, 3, 3)
mean(m)
m <- c(0, 1, 3, 3)
mean(m)
stab.mean.mode.1 + geom_point(aes(color= N), position= "jitter") + theme_bw(base_size = 20)
stab.mean.mode.1 + geom_point(aes(color= factor(N)), position= "jitter") + theme_bw(base_size = 20)
stab.mean.mode.1 + geom_point(aes(color= factor(N)), size= 4, position= "jitter") + theme_bw(base_size = 20)
subset(df.og, year == 1990 & transect == 2 & xstrm == 11.00)
head(df.og)
subset(AlgalTransects, year == 1990 & transect == 2 & xstrm == 11.00)
str(AlgalTransects)
AlgalTransects$Rdate = as.Date(AlgalTransects$date, format= '%m/%d/%Y')
AlgalTransects <- transform(AlgalTransects, Transect = as.factor(Transect),	month = format(Rdate, '%m'),yearday = as.numeric(format(Rdate, '%j')), year = as.numeric(format(Rdate, '%Y')))
subset(AlgalTransects, year == 1990 & transect == 2 & xstrm == 11.00)
subset(AlgalTransects, year == 1990 & Transect == 2 & xstrm == 11.00)
subset(at_sub, year == 1990 & transect == 2 & xstrm == 11.00)
(subset(sub.stat, stab.mode == 3 & stab.diff == 3))
subset(at_sub, year == 1995 & transect == 2 & xstrm == 5)
subset(at_sub, year == 1991 & transect == 2.5 & xstrm == 13)
subset(atwp_sub, (year == 1991 & transect == 2.5 & xstrm == 13) & (yearday<=212 & yearday>=105))
AlgalTransects[which(AlgalTransects$id == 1807), ]
AlgalTransects[which(AlgalTransects$id == 2688), ]
AlgalTransects[which(AlgalTransects$id == 1745), ]
str(df.sub2)
df.sub2 <- df.sub2[, order(id)]
df.sub2 <- df.sub2[order(id), ]
df.sub2 <- df.sub2[order(df.sub2$id), ]
head(df.sub2)
str(df.og2)
df.og2 <- df.og2[order(df.og2$id), ]
head(df.og2)
1:10 %in% c(1,3,5,9)
comp.df <- df.og2[which(df.og2$id %in% df.sub.2$id), ]
comp.df <- df.og2[which(df.og2$id %in% df.sub2$id), ]
str(comp.df)
comp.df <- df.og2[-which(df.og2$id %in% df.sub2$id), ]
str(comp.df)
diff.df <- df.og2[-which(df.og2$id %in% df.sub2$id), ]
head(diff.df)
unique(diff.df$year)
diff.df <- transform(diff.df,
transect = as.factor(transect),
month = format(Rdate, '%m'),
yearday = as.numeric(format(Rdate, '%j')),
year = as.numeric(format(Rdate, '%Y')))
diff.df$Rdate <- as.Date(diff.df$date, format= '%Y-%m-%d')
str(diff.df)
diff.df <- transform(diff.df,
transect = as.factor(transect),
month = format(Rdate, '%m'),
yearday = as.numeric(format(Rdate, '%j')),
year = as.numeric(format(Rdate, '%Y')))
unique(diff.df$year)
table(diff.df$year)
table(diff.df$transect)
